:root {
    --bg-color: #FAF9F6; 
    --text-color: #3E3A35; 
    --accent-gold: #A68A64; 
    --accent-sage: #8C9E8A; 
    --accent-terra: #C89F8D; 
    --font-heading: 'Cormorant Garamond', serif;
    --font-body: 'Montserrat', sans-serif;
}

* { margin: 0; padding: 0; box-sizing: border_box; cursor: none; }

html, body {
    width: 100%;
    max-width: 100%;
    margin: 0; /* Fondamentale per evitare bordi bianchi */
    padding: 0;
    overflow-x: hidden; /* Blocca scorrimento laterale indesiderato */
    background-color: var(--bg-color); 
    color: var(--text-color); 
    font-family: var(--font-body);
    line-height: 1.8;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E");
    -webkit-text-size-adjust: 100%;
}

/* CURSORE */
.cursor-dot { position: fixed; top: 0; left: 0; width: 6px; height: 6px; background: var(--accent-gold); border-radius: 50%; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%); }
.cursor-outline { position: fixed; top: 0; left: 0; width: 40px; height: 40px; border: 1px solid var(--accent-gold); border-radius: 50%; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%); transition: width 0.2s, height 0.2s; }

/* PRELOADER */
.preloader { position: fixed; inset: 0; background: var(--bg-color); z-index: 10000; display: flex; flex-direction: column; justify-content: center; align-items: center; }
.loader-text { font-family: var(--font-heading); font-size: 2.5rem; color: var(--accent-gold); letter-spacing: 2px; animation: pulse 2s infinite; }

.loading-bar-container { width: 150px; height: 2px; background: rgba(166, 138, 100, 0.3); margin-top: 20px; border-radius: 2px; overflow: hidden; }
.loading-bar-fill { height: 100%; width: 0%; background: var(--accent-gold); animation: loadProgress 2.2s ease-in-out forwards; }
@keyframes loadProgress { to { width: 100%; } }

/* LINGUA */
.lang-switcher { position: fixed; top: 2rem; right: 2rem; z-index: 100; display: flex; gap: 1rem; }
.lang-btn { background: none; border: none; color: var(--text-color); font-family: var(--font-body); font-weight: 500; cursor: pointer; opacity: 0.5; transition: 0.3s; }
.lang-btn.active { opacity: 1; text-decoration: underline; color: var(--accent-gold); }

/* --- HERO SECTION --- */
.hero {
    height: 100vh; width: 100%; position: relative;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    text-align: center; overflow: hidden; padding: 2rem;
}

.floral-frame { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }

.flower {
    position: absolute;
    max-width: 500px; 
    height: auto;
    object-fit: contain;
}

/* POSIZIONAMENTO DESKTOP */
.f-tl { top: -8%; left: -8%; width: 28vw; transform-origin: top left; transform: rotate(-15deg); }
.f-tr { top: -5%; right: -5%; width: 28vw; transform-origin: top right; transform: rotate(5deg); }
.f-bl { bottom: -5%; left: -5%; width: 30vw; transform-origin: bottom left; transform: rotate(-5deg); }
.f-br { bottom: -10%; right: -5%; width: 32vw; transform-origin: bottom right; transform: rotate(5deg); }

.reveal-img { opacity: 0; transform: scale(0.9); filter: blur(10px); }

/* CONTENUTO HERO */
.hero-content { position: relative; z-index: 2; padding: 0 2rem; max-width: 900px; width: 100%;}
.names { font-family: var(--font-heading); font-size: 6.5rem; font-weight: 300; line-height: 0.9; margin-bottom: 1.5rem; color: var(--text-color); }
.amp { font-family: var(--font-heading); font-style: italic; color: var(--accent-gold); font-weight: 400;}
.date { font-size: 1.4rem; letter-spacing: 4px; margin-bottom: 3rem; color: var(--accent-sage); font-weight: 500;}

.countdown-container { display: flex; justify-content: center; gap: 2rem; }
.time-card {
    background: rgba(250, 249, 246, 0.6); backdrop-filter: blur(4px);
    border: 1px solid var(--accent-gold); padding: 1.5rem 2rem; min-width: 130px;
    display: flex; flex-direction: column; align-items: center;
    box-shadow: 0 5px 15px rgba(166, 138, 100, 0.1);
}
.time-card span { font-family: var(--font-heading); font-size: 3.5rem; color: var(--accent-gold); line-height: 1; }
.time-card small { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: var(--text-color); margin-top: 5px;}

.scroll-indicator { position: absolute; bottom: 2rem; display: flex; flex-direction: column; align-items: center; gap: 10px; opacity: 0.6; z-index: 2; font-size: 0.8rem; letter-spacing: 2px;}
.line { width: 1px; height: 50px; background: var(--accent-gold); }


/* --- STORIA --- */
.story-section { 
    width: 100%; 
    padding: 120px 20px; 
    background-color: #fff; 
    overflow: hidden; /* Fix critico per il carosello */
    position: relative;
}
.container-text { max-width: 750px; margin: 0 auto; text-align: left; }
.section-title { font-family: var(--font-heading); font-size: 3.5rem; text-align: center; margin-bottom: 4rem; color: var(--accent-gold); font-style: italic; }

.story-body p { font-size: 1.25rem; margin-bottom: 2rem; color: #555; text-align: justify; }
.drop-cap { float: left; font-family: var(--font-heading); font-size: 6rem; line-height: 0.7; color: var(--accent-gold); padding-right: 15px; padding-top: 10px; }

.quote-box { margin-top: 4rem; text-align: center; position: relative; padding: 2rem; }
.quote-box::before { content: 'â€œ'; position: absolute; top: -1rem; left: 50%; transform: translateX(-50%); font-family: var(--font-heading); font-size: 5rem; color: var(--accent-sage); opacity: 0.3; }
.highlight { font-family: var(--font-heading); font-size: 2rem; color: var(--accent-gold); line-height: 1.3; font-style: italic; }

/* Gallery Carosello FIXATO */
.marquee-gallery { 
    margin-top: 80px; 
    width: 100%; 
    max-width: 100%;
    overflow: hidden; 
    white-space: nowrap;
}
.track { 
    display: inline-flex; /* Meglio di flex per marquee continui */
    gap: 20px; 
    width: max-content; 
    animation: scroll 50s linear infinite; 
}
.track img { height: 350px; width: auto; filter: sepia(20%); transition: filter 0.5s; object-fit: cover; }
.track img:hover { filter: sepia(0%); }
@keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }


/* --- PROGRAMMA --- */
.section-divider { width: 100%; line-height: 0; background-color: #fff; }
.section-divider svg { display: block; width: 100%; height: auto; fill: var(--bg-color); }

.program-section { width: 100%; padding: 100px 20px; background-color: var(--bg-color); }
.program-list { max-width: 700px; margin: 0 auto; border-left: 1px solid var(--accent-gold); padding-left: 2rem; }
.program-row { margin-bottom: 4rem; position: relative; }
.program-row::before { content: ''; position: absolute; left: -2.35rem; top: 5px; width: 10px; height: 10px; background: var(--bg-color); border: 2px solid var(--accent-gold); border-radius: 50%; }

.p-time { font-family: var(--font-heading); font-size: 1.5rem; color: var(--accent-gold); margin-bottom: 0.5rem; }
.p-info h3 { font-size: 1.8rem; margin-bottom: 0.5rem; font-weight: 400; }
.p-info p { color: #666; margin-bottom: 1rem; }
.map-link { display: inline-flex; align-items: center; gap: 5px; color: var(--accent-sage); text-decoration: none; font-size: 0.9rem; border-bottom: 1px solid transparent; transition: 0.3s; margin-bottom: 1rem; }
.map-link:hover { border-color: var(--accent-sage); color: var(--text-color); }

.map-embed {
    width: 100%; border-radius: 4px; overflow: hidden;
    filter: grayscale(100%) contrast(95%); transition: filter 0.5s;
    border: 1px solid rgba(166, 138, 100, 0.3);
}
.map-embed:hover { filter: grayscale(0%); }

.accommodation-simple { text-align: center; margin-top: 6rem; padding: 2rem; border-top: 1px solid rgba(166, 138, 100, 0.3); max-width: 600px; margin-left: auto; margin-right: auto;}
.accommodation-simple h4 { color: var(--accent-terra); font-family: var(--font-heading); font-size: 1.5rem; margin-bottom: 0.5rem; }

/* --- RSVP --- */
.rsvp-section { width: 100%; padding: 120px 20px; text-align: center; background: var(--accent-gold); color: var(--bg-color); }
.cta-button { display: inline-block; margin-top: 2rem; padding: 1.2rem 3.5rem; background: var(--bg-color); color: var(--accent-gold); text-decoration: none; font-family: var(--font-heading); font-size: 1.3rem; transition: transform 0.3s; border: 1px solid var(--bg-color); }
.cta-button:hover { background: transparent; color: var(--bg-color); transform: translateY(-3px); }

footer { width: 100%; padding: 3rem; text-align: center; font-size: 0.8rem; opacity: 0.6; }

/* --- MOBILE ADAPTIVE (FIX 100%) --- */
@media (max-width: 768px) {
    /* 1. Reset generale */
    body { width: 100%; overflow-x: hidden; position: relative; }
    
    /* 2. Hero Content */
    .hero-content { width: 100%; padding: 0 10px; margin: 0 auto; }
    .names { font-size: 3.2rem; }
    .date { margin-bottom: 2rem; }

    /* 3. Fiori Mobile (Ancorati con valori negativi) */
    .flower { opacity: 0.9; max-width: none; } 
    
    .f-tl { width: 55vw; top: -10%; left: -25%; transform: rotate(-20deg); transform-origin: top left; }
    .f-tr { width: 60vw; top: -5%; right: -30%; transform: rotate(10deg); transform-origin: top right; }
    /* Bottom negativi essenziali */
    .f-bl { width: 65vw; bottom: -12%; left: -25%; top: auto; transform: rotate(-10deg); transform-origin: bottom left; }
    .f-br { width: 60vw; bottom: -10%; right: -25%; top: auto; transform: rotate(10deg); transform-origin: bottom right; }

    /* 4. Countdown Mobile */
    .countdown-container { gap: 0.5rem; }
    .time-card { 
        min-width: 70px; padding: 0.8rem; 
        border: none; background: rgba(250,249,246,0.6); box-shadow: none; 
        border-right: 1px solid rgba(166,138,100,0.3); 
    }
    .time-card:last-child { border: none; }
    .time-card span { font-size: 2.2rem; }
    
    /* 5. Storia Mobile - Fix Margine Dx */
    .story-section { padding: 60px 20px; width: 100%; overflow: hidden;}
    .story-body p { text-align: left; font-size: 1.1rem; line-height: 1.6; }
    .drop-cap { font-size: 4rem; line-height: 0.9; }
    
    /* 6. Carosello Mobile (Ridimensionato e contenuto) */
    .marquee-gallery { 
        margin-top: 40px; 
        width: 100vw; 
        margin-left: -20px; /* Compensa il padding del container */
    }
    .track img { height: 160px; width: auto; }
    
    /* 7. Programma Mobile */
    .program-list { padding-left: 1rem; }
    .program-row::before { left: -1.35rem; }
    .program-section, .rsvp-section, footer { width: 100%; box-sizing: border_box; }
}
